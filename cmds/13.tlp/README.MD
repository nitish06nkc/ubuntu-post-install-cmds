# ğŸ”‹ TLP â€” Advanced Linux Power Management

**Better battery life â€¢ Lower heat â€¢ Smarter power usage**

TLP is a **set-and-forget** power management tool for Linux laptops. It automatically applies sensible power-saving settings on **battery** and relaxes them on **AC** â€” no GUI required.

---

## âœ… Why use TLP?

Ubuntuâ€™s default behavior often leaves parts of the system **less optimized for battery** (varies by device), which can lead to:

- ğŸ”» Faster battery drain (especially while idle)
- ğŸŒ¡ï¸ Higher temperatures
- ğŸŒ€ Fans running more than needed

TLP helps by applying laptop-oriented power tuning automatically.

---

## âš™ï¸ What TLP manages (high-level)

TLP can optimize power usage across major subsystems, including:

- ğŸ§  **CPU** frequency & energy policy
- ğŸ§© **PCIe** runtime power management
- ğŸ”Œ **USB** autosuspend
- ğŸ’½ **NVMe/SATA** power states
- ğŸ“¶ **Wiâ€‘Fi** power saving
- ğŸ”Š **Audio** power saving
- ğŸ§· Disk idle behavior
- ğŸ§° Laptop-specific ACPI quirks

---

## ğŸš€ Install & enable (recommended)

### 1) ğŸ“¦ Install

```bash
sudo apt update
sudo apt install tlp tlp-rdw
```

- **`tlp`** â†’ main power management engine  
- **`tlp-rdw`** â†’ radio device wizard (Wiâ€‘Fi/Bluetooth-related rules)

### 2) â–¶ï¸ Enable + start now

```bash
sudo systemctl enable tlp
sudo systemctl start tlp
```


## âš ï¸ Important (Ubuntu conflict)

Ubuntuâ€™s **`power-profiles-daemon`** can conflict with TLP (competing CPU/power rules).

If you use TLP, **mask** it so TLP has full control:

```bash
sudo systemctl mask power-profiles-daemon
```

> Note: The â€œPower Modeâ€ slider in Ubuntu Settings may disappear after masking â€” **expected**.

---

## ğŸ”ŒğŸ”‹ How it behaves

TLP automatically switches based on power source:

| Power source | Typical behavior |
|---|---|
| ğŸ”Œ **AC** | Performance-friendly rules |
| ğŸ”‹ **Battery** | More aggressive power saving |

---

## âœ… Verify itâ€™s working

### Quick status

```bash
tlp-stat -s
```

Look for:
- `State = enabled`
- Mode: `AC` or `BAT`

### Full diagnostics

```bash
sudo tlp-stat
```

---

## ğŸ› ï¸ Optional tuning (advanced)

Defaults are usually enough. If you want to tune:

1) Edit config:
```bash
sudo nano /etc/tlp.conf
```

2) Apply changes:
```bash
sudo systemctl restart tlp
```

Tip: Change only a few options at a time, then re-check with `sudo tlp-stat`.

---

## ğŸ§© Troubleshooting checklist

If battery life gets worse after updates:

- âœ… TLP enabled: `tlp-stat -s`
- âœ… Conflict removed: `systemctl status power-profiles-daemon`
- âœ… Kernel regressions (try a stable kernel if needed)
- âœ… GPU power state (common with NVIDIA/PRIME)
- âœ… Suspend support (deep sleep vs `s2idle`)

---

## ğŸ—‘ï¸ Uninstall / revert to Ubuntu defaults

```bash
# Restore Ubuntu power profiles daemon
sudo systemctl unmask power-profiles-daemon
sudo systemctl enable power-profiles-daemon
sudo systemctl start power-profiles-daemon

# Disable & remove TLP
sudo systemctl disable tlp
sudo apt remove tlp tlp-rdw
sudo apt autoremove
```

---

## ğŸ§¾ Command cheat-sheet

```bash
# Install
sudo apt update
sudo apt install tlp tlp-rdw

# Enable & start
sudo systemctl enable tlp
sudo systemctl start tlp

# Avoid Ubuntu conflicts
sudo systemctl mask power-profiles-daemon

# Status / diagnostics
tlp-stat -s
sudo tlp-stat

# Restart after config changes
sudo systemctl restart tlp

# Uninstall / revert
sudo systemctl unmask power-profiles-daemon
sudo systemctl enable power-profiles-daemon
sudo systemctl start power-profiles-daemon
sudo systemctl disable tlp
sudo apt remove tlp tlp-rdw
sudo apt autoremove
```

## ğŸ‘‰ Next: Cloudflare

- Move to **Cloudflare cmds**
- **[14.cloudlfare](../14.cloudlflarewarp/README.MD)**

