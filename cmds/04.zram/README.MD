# ğŸ§  ZRAM Compression (systemd-zram-generator)

**Improve memory efficiency** and **reduce swap latency** by using **compressed RAM** as swap.

---

## ğŸ“Œ What is `systemd-zram-generator`?

`systemd-zram-generator` automatically creates **ZRAM-based swap** devices at boot via **systemd**.

âœ… **ZRAM** stores swap pages in **compressed RAM instead of disk**, which typically means:
- **Much faster swapping** than disk swap
- **Less disk I/O** (useful for HDDs / slower SSDs)
- Better responsiveness under memory pressure

---

## ğŸ¯ What Itâ€™s Good For

- âš¡ **Faster swap** compared to disk-based swap  
- ğŸ’¾ **Reduced disk I/O** and wear  
- ğŸ§© **Better system responsiveness** when RAM is tight  

**Ideal for:**
- ğŸ§³ Laptops
- ğŸ§  Low-RAM systems
- ğŸ¢ Systems with HDDs or slower SSDs

---

## âŒ What It Is *Not*

- âŒ It does **not** increase physical RAM
- âŒ It does **not** replace the need for sufficient memory
- âŒ It does **not** directly improve CPU performance  
  (CPU is actually used a bit more due to compression)

---

## ğŸ“¥ Install

```bash
sudo apt install systemd-zram-generator
```

**During installation:**
- âœ… The generator is installed
- â³ No swap is created immediately
- ğŸ” ZRAM swap is configured **at next boot**

---

## â–¶ï¸ What Happens After Installation

After a reboot:
- systemd creates a **ZRAM device** (commonly `/dev/zram0`)
- the ZRAM device is used as **swap**
- swap data is stored **compressed in RAM**
- the system handles memory pressure more smoothly

âš ï¸ **Reboot required** for ZRAM to become active.

---

## ğŸ” Verify ZRAM Is Working

### 1) Check swap devices
```bash
swapon --show
```

You should see something like:
- `/dev/zram0`

### 2) Check memory + swap usage
```bash
free -h
```

Look for a **zram-based** swap entry.

---

## ğŸ§  Resource Usage & Behavior

- Uses **compressed RAM** as swap
- Compression reduces the *effective* RAM consumed by swap pages
- âš™ï¸ Uses CPU for compression/decompression
- Usually **faster than disk-based swap**

---

## ğŸš« If You Donâ€™t Install It

- System uses **disk-based swap** (if configured)
- Slower swapping under memory pressure
- Increased disk I/O and latency

---

## ğŸ—‘ï¸ Uninstall

Remove package:
```bash
sudo apt remove systemd-zram-generator
```

Remove package + config files:
```bash
sudo apt purge systemd-zram-generator
```

After removal:
- ZRAM swap is **no longer created** on boot
- Existing disk-based swap remains unchanged

---

## âš ï¸ Important Notes

- ğŸ” Requires reboot to take effect
- ğŸ“ˆ Slight CPU usage increase due to compression
- âœ… Generally safe for most systems
- ğŸ¤ Works well **alongside disk swap** or **alone**

---

## âœ… Summary

| Feature | Behavior |
|---|---|
| Uses RAM as swap | âœ… Yes |
| Compression enabled | âœ… Yes |
| Requires reboot | âœ… Yes |
| Disk I/O reduced | âœ… Yes |
| Safe to remove | âœ… Yes |

---

## ğŸ‘‰ Next: Power Profiles

- Move to **Power Profile Cmds**
- **[05.powerprofile](../05.powerprofile/README.MD)**